---
title: "CS & SS 569 HOMEWORK 3"
author: "DIBBYA BISWA"
date: "2023-02-27"
output: pdf_document
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(shiny)
library(ggplot2)
library(dplyr)

# load data
data <- read.csv("data_2003_merged.csv", header = TRUE)

# ui
ui <- fluidPage(
  titlePanel("Average Number of Bad Teeth in 2003 Among 12 years old"),
  sidebarLayout(
    sidebarPanel(
      checkboxGroupInput(
        inputId = "continent",
        label = "Continent(s) to include and display",
        choices = unique(data$continent),
        selected = "Asia" # default
      ),
      selectInput(
        inputId = "yvar",
        label = "Outcome you want to show",
        choices = c(
         # "Life Expectancy" = "life_expectancy",
         # "Bad Teeth Average" = "bad_teeth_avg",
          "Country" = "country"
        ),
        selected = "Life Expectancy"
      )
    ),
    mainPanel(
      plotOutput("GMplot")
    )
  )
)

# server
server <- function(input, output) {
  output$GMplot <- renderPlot({
    data_filtered <- data %>%
      filter(continent %in% input$continent)
    
    ggplot(data_filtered, aes(x = bad_teeth_avg, y = life_expectancy, color = continent, label = country)) +
      geom_point() +
      geom_text(check_overlap = T) +
      scale_color_discrete(name = "Continent") +
      labs(x = "Average Number of Bad Teeth in 2003", y = "Life Expectancy of 2003")
  })
}

# Run app
shinyApp(ui = ui, server = server)



```

# Description: 
The interactive display I have created is a Shiny app that allows users to explore the relationship between the average number of bad teeth among 12-year-olds and life expectancy in 2003 across continents for each country. Users can select the continent(s) they are interested in and see the relationship between life expectancy and average bad teeth compared with other countries in the same continent. The app displays a scatter plot with each point representing a country, colored by continent. The country name is also labeled on each point.

# Purpose and Goal: 
This interactive display aims to help users explore the relationship between bad teeth and life expectancy across continents. By allowing users to subset the data by continent and seeing the outcome, they can quickly identify patterns and trends that may not be apparent in a static plot. Users can also quickly identify specific countries of interest by labeling each point with the country name.

# Methods Used: 
The Shiny package for R was used to create this interactive display. The data was loaded using the read.csv function, and the user interface was created using the fluid page function. The sidebarPanel function was used to create the input widgets, including checkboxGroupInput for selecting the continent(s) and selectInput for selecting the outcome variable. The mainPanel function was used to create the plotOutput function that displays the scatter plot. Finally, the server function was used to filter the data based on user input and create the scatter plot using ggplot2.
